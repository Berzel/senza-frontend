import tw from 'twin.macro'
import Head from 'next/head'
import styled from 'styled-components'
import JobSummaryList from '../components/JobSummary/JobSummaryList';
import PostJobBanner from '../components/PostJob/PostJobBanner';

const Main = styled.main`
  min-height: 100vh;
`;

const Header = styled.div`
  min-height: 15em;
  display: flex;
  flex-direction: column;
  ${tw``}
`;

const TopHeader = styled.div`
  flex-grow: 1;
  ${tw`p-1 bg-purple-700 rounded-b-lg shadow-lg`}
`;

const SearchBar = styled.div`
  ${tw`mx-2 px-2 py-3 bg-white -mt-5 rounded-xl shadow-lg`}
`;

const CategoryItems = styled.div`
  ${tw`mt-8`}

  > h2 {
    ${tw`mx-2 font-semibold text-gray-900`}
  }
`;

const CategoryRows = styled.div`
  ${tw`overflow-hidden pt-3 pb-3`}

  & > * + * {
    ${tw`mt-2`}
  }
`;

const CategoryRow = styled.ul`
  ${tw`px-2 flex`}

  & > * + * {
    ${tw`ml-2`}
  }
`;

const Category = styled.li`
  a {
    ${tw`text-purple-700 inline-block rounded-xl px-3 py-1 bg-purple-100`}
  }
`;

export default function Home() {
  const jobs = [{}, {}, {}, {}, {}, {}, {}];

  return (
    <>
      <Head>
        <title>Mobile Homepage</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></link>
      </Head>

      <Header>
        <TopHeader>
          Top Header
        </TopHeader>

        <SearchBar>
          Search Bar
        </SearchBar>
      </Header>

      <Main>
        <CategoryItems>
          <h2>Categories</h2>
          <CategoryRows>
            {[1,2,3].map(i => (
              <CategoryRow key={i}>
                {[1,2,3,4,5,6,7,8,9].map(j => (
                  <Category key={j}>
                    <a href="#">
                      {Math.random(j).toString(36).substring(7)}
                    </a>
                  </Category>
                ))}
              </CategoryRow>
            ))}
          </CategoryRows>
        </CategoryItems>

        <PostJobBanner />
        <JobSummaryList jobs={jobs}/>
      </Main>
    </>
  )
}
